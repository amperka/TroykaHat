# TroykaHatPython API (RUS)

## `wiringpi_io() -> wiringpi`

Возвращает ссылку на модуль `wiringpi` для работы с пинами, помеченными как «Wiring Pi IO» на плате Troyka HAT. Это пины, подключенные напрямую к компьютеру Raspberry Pi через его GPIO-разъём.

_Подробности о коммуникации читайте в [документации на библиотеку WiringPi](https://pypi.org/project/wiringpi/)._

## `analog_io(i2c_address: int=42) -> GpioExpander`

Создает новый объект `analog_io` для работы с пинами, помеченными как «Analog IO» на плате Troyka HAT. Это пины, подключенные к встроенному на плате I²C расширителю на микроконтроллере STM32F030F4P6.

_Для коммуникации используйте методы класса `GpioExpander`._

- `i2c_address`: адрес устройства на шине I²C. При вызове без параметра, используется адрес по умолчанию — `42` в десятичном формате.

## `class GpioExpander`

Предоставляет доступ к методам для управления пинами, на базе расширителя Amperka GPIO с микроконтроллером STM32F030F4P6. В нашем случае это группа пинов «Analog IO» на плате Troyka HAT. Для создания объекта используйте функцию `analog_io`.

### `pinMode(pin: int, mode: int) -> None`

Конфигурирует режим работы пина.

- `pin`: номер используемого контакта, который отмечен на плате Troyka HAT индексом от `0` до `7` на панели «Analog IO».
- `mode`: режим работы пина:
  - `INPUT`: режим входа.
  - `INPUT_PULLUP`: режим входа с подтяжкой к питанию.
  - `INPUT_PULLDOWN`: режим входа с подтяжкой к земле.
  - `OUTPUT`: режим выхода.

### `digitalRead(pin: int) -> bool`

Считывает цифровое значение с пина.

- `pin`: номер используемого контакта, который отмечен на плате Troyka HAT индексом от `0` до `7` на панели «Analog IO».

Возвращаемое значение:

- `True` — высокий уровень, который соответствует напряжению 3,3 В.
- `False` — низкий уровень, который соответствует напряжению 0 В.

Используемый пин должен быть предварительно сконфигурирован в режим входа с помощью метода `pinMode`.

### `digitalWrite(pin: int, value: bool) -> None`

Задаёт цифровое значение пина.

- `pin`: номер используемого контакта, который отмечен на плате Troyka HAT индексом от `0` до `7` на панели «Analog IO».
- `value`: значение `True / HIGH / 1` — установка высокого уровня с напряжением 3,3 В или `False / LOW / 0` — установка низкого уровня с напряжением 0 В.

Используемый пин должен быть предварительно сконфигурирован в режим выхода с помощью метода `pinMode`.

### `analogRead(pin: int) -> float`

Считывает аналоговое значение с пина.

- `pin`: номер используемого контакта, который отмечен на плате Troyka HAT индексом от `0` до `7` на панели «Analog IO».

Возвращаемое значение от `0.0` до `1.0`, которое прямо пропорционально напряжению на пине от 0 до 3,3 В.

Используемый пин должен быть предварительно сконфигурирован в режим входа с помощью метода `pinMode`.

### `analogWrite(pin: int, value: float) -> None`

Задаёт аналоговое значения пина в виде ШИМ-сигнала.

- `pin`: номер используемого контакта, который отмечен на плате Troyka HAT индексом от `0` до `7` на панели «Analog IO».
- `value`: Значение от `0.0` до `1.0`, которое прямо пропорционально скважности ШИМ-сигнала от 0 до 100%.

Используемый пин должен быть предварительно сконфигурирован в режим выхода с помощью метода `pinMode`.

### `changeAddress(newAddress: int) -> None`

Изменяет I²C-адрес модуля.

- `newAddress`: новый I²C-адрес платы.

Изменения будут действительны до отключения питания от платы Troyka HAT. Если вы хотите сохранить изменения, используйте метод `saveAddress`.

### `saveAddress() -> None`

Сохраняет в EEPROM I²C-адрес устройства, который заранее изменен с помощью метода `changeAddress`.
