# TroykaHat API (RUS)

## `class TroykaHat`

Плата расширения Troyka HAT включает в себя две группы контактов: Wiring Pi IO и Analog IO. Создайте один из объектов класса `TroykaHat` в зависимости от используемой группы:

- Wiring Pi IO: пины подключенные напрямую к компьютеру Raspberry Pi через GPIO-разъём. Для коммуникации используйте объект `wiringpi_io()`.
- Analog IO: пины подключенные к встроенному на плате I²C расширителю на микроконтроллере TM32F030F4P6. Для коммуникации используйте объект `analog_io()`.

### `wiringpi_io()`

Создает новый объект `wiringpi_io` для работы с пинами Wiring Pi IO на плате Troyka HAT.

_Подробности коммуникации читайте в [документации на библиотеку WiringPi](https://pypi.org/project/wiringpi/)._

### `analog_io(i2c_address=42)`

Создает новый объект `analog_io` для работы с пинами Analog IO на плате Troyka HAT.

- `i2c_address`: адрес устройства на шине I²C. При вызове без параметра, используется адрес по умолчанию — `42` в десятичном формате.

_Вся документация ниже относится к объекту `analog_io`._

### `pinMode(pin: int, mode: PinMode) -> None`

Задаёт режим работы пина.

- `pin`: имя пина на Troyka HAT.
- `mode`: конфигурацию пина.
  - INPUT: режим входа.
  - INPUT_PULLUP: режим входа с подтяжкой к питанию.
  - INPUT_PULLDOWN: режим входа с подтяжкой к земле.
  - OUTPUT: режим выхода.

### `digitalRead(pin: int) -> bool`

Считывает цифровое значение с пина.

- `pin`: имя пина на Troyka HAT.

Возвращаемое значение `True` — высокий уровень или `False` — низкий уровень. Для работы текущей функции пин должен быть сконфигурирован в режим входа в методе `pinMode`.

### `digitalWrite(pin: int, value: bool) -> None`

Задаёт цифровое состояние пина.

- `pin`: имя пина на Troyka HAT.
- `value`: Значение `True / HIGH / 1` — установка высокого уровня или `False / LOW / 0` — установка низкого уровня.

Для работы текущей функции пин должен быть сконфигурирован в режим выхода в методе `pinMode`.

### `analogRead(pin: int) -> float`

Считывает аналоговое значение с пина.

- `pin`: имя пина на Troyka HAT.

Возвращаемое значение от `0.0` до `1.0` в зависимости от состояния напряжения на пине. Для работы текущей функции пин должен быть сконфигурирован в режим входа в методе `pinMode`.

### `analogWrite(pin: int, value: float) -> None`

Задаёт аналоговое значения пина в виде ШИМ-сигнала.

- `pin`: имя пина на Troyka HAT.
- `value`: Значение от `0.0` до `1.0`, которое прямо пропорционально напряжению.

Для работы текущей функции пин должен быть сконфигурирован в режим выхода в методе `pinMode`.

### `changeAddress(newAddress: int) -> None`

Изменяет текущий I²C-адрес модуля.

- `newAddress`: новый I²C-адрес платы.

Изменения будут действительны до отключения питания от платы Troyka HAT. Если вы хотите сохранить изменения, используйте метод `saveAddress`.

### `saveAddress() -> None`

Сохраняет текущий I²C-адрес устройства в EEPROM, который заранее изменен с помощью метода `changeAddress`.
